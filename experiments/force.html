<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í˜ì˜ í•©ì„±ê³¼ ë¶„í•´</title>
    <link rel="stylesheet" href="../style.css">
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
</head>
<body>
    <div class="sidebar">
        <a href="../index.html">ğŸ  í™ˆ</a>
        <a href="density.html">1. ì•¡ì²´ì˜ ë°€ë„</a>
        <a href="force.html" class="active">2. í˜ì˜ í•©ì„±ê³¼ ë¶„í•´</a>
        <a href="sound.html">3. ì†Œë¦¬ ì†ë„</a>
        <a href="expansion.html">4. ì„ íŒ½ì°½</a>
        <a href="glider.html">5. ê°€ì†ë„</a>
        <a href="centripetal.html">6. êµ¬ì‹¬ë ¥</a>
        <a href="bullet.html">7. íƒ„í™˜ ì†ë„</a>
        <a href="torque.html">8. íšŒì „ í‰í˜•</a>
        <a href="gravity.html">9. ì¤‘ë ¥ê°€ì†ë„</a>
        <a href="moment.html">10. ê´€ì„±ëª¨ë©˜íŠ¸</a>
    </div>

    <div class="content">
        <h2>ì‹¤í—˜ 2 - í˜ì˜ í•©ì„±ê³¼ ë¶„í•´</h2>

        <h3>ğŸ“Œ ì²« ë²ˆì§¸ í‘œ: ê°ë„ ë° ì§ˆëŸ‰ ì¸¡ì •</h3>
        <table border="1">
            <tr>
                <th class="header-cell">íšŒ</th>
                <th class="header-cell">\( \theta_A \) (Â°)</th>
                <th class="header-cell">\( \theta_B \) (Â°)</th>
                <th class="header-cell">\( \theta_R \) (Â°)</th>
                <th class="header-cell">\( m_A \) (g)</th>
                <th class="header-cell">\( m_B \) (g)</th>
                <th class="header-cell">\( m_R \) (g)</th>
            </tr>
            <!-- 5íšŒ ë°˜ë³µ -->
            <script>
                for (let i = 1; i <= 5; i++) {
                    document.write(`
                        <tr>
                            <td class="header-cell">${i}</td>
                            <td><input type="number" id="thetaA_${i}"></td>
                            <td><input type="number" id="thetaB_${i}"></td>
                            <td><input type="number" id="thetaR_${i}"></td>
                            <td><input type="number" id="mA_${i}"></td>
                            <td><input type="number" id="mB_${i}"></td>
                            <td><input type="number" id="mR_${i}"></td>
                        </tr>
                    `);
                }
            </script>
        </table>

        <h3>ğŸ“Œ ë‘ ë²ˆì§¸ í‘œ: ì´ë¡ ê°’ê³¼ ì‹¤í—˜ê°’ ë¹„êµ</h3>
        <table border="1">
            <tr>
                <th class="header-cell">íšŒ</th>
                <th class="header-cell">\( C_{\text{ì´ë¡ }} \) (gN)</th>
                <th class="header-cell">\( \phi \) (Â°)</th>
                <th class="header-cell">\( C_{\text{ì‹¤í—˜}} \) (gN)</th>
                <th class="header-cell">\( \theta_R \) (Â°)</th>
                <th class="header-cell">\(\frac{C_{\text{ì´ë¡ }} - C_{\text{ì‹¤í—˜}}}{C_{\text{ì´ë¡ }}} \times 100\%\)</th>
                <th class="header-cell">\(\frac{\phi - \theta_R}{\phi} \times 100\%\)</th>
            </tr>
            <script>
                for (let i = 1; i <= 5; i++) {
                    document.write(`
                        <tr>
                            <td class="header-cell">${i}</td>
                            <td><span id="Ctheory_${i}">-</span></td>
                            <td><span id="phi_${i}">-</span></td>
                            <td><span id="Cexp_${i}">-</span></td> <!-- ìë™ ì…ë ¥ -->
                            <td><span id="thetaR_${i}">-</span></td> <!-- ìë™ ì…ë ¥ -->
                            <td><span id="error_C_${i}">-</span></td>
                            <td><span id="error_phi_${i}">-</span></td>
                        </tr>
                    `);
                }
            </script>
            <tr>
                <td class="header-cell">í‰ê· </td>
                <td class="x-cell">X</td>
                <td class="x-cell">X</td>
                <td class="x-cell">X</td>
                <td class="x-cell">X</td>
                <td><span id="avg_error_C">-</span></td>
                <td><span id="avg_error_phi">-</span></td>
            </tr>
        </table>

        <br>
        <button onclick="calculateForce()">ê³„ì‚°í•˜ê¸°</button>

        <script>
            function calculateForce() {
                let sum_error_C = 0, sum_error_phi = 0;
                let count = 0;
        
                for (let i = 1; i <= 5; i++) {
                    // ì²« ë²ˆì§¸ í‘œì—ì„œ ê°’ ê°€ì ¸ì˜¤ê¸°
                    let mA = parseFloat(document.getElementById(`mA_${i}`).value);
                    let mB = parseFloat(document.getElementById(`mB_${i}`).value);
                    let thetaA = parseFloat(document.getElementById(`thetaA_${i}`).value);
                    let thetaB = parseFloat(document.getElementById(`thetaB_${i}`).value);
                    let mR = parseFloat(document.getElementById(`mR_${i}`).value);
                    let thetaR = parseFloat(document.getElementById(`thetaR_${i}`).value);
        
                    // ê°’ì´ ì œëŒ€ë¡œ ì…ë ¥ë˜ì§€ ì•Šì€ ê²½ìš° ë„˜ì–´ê°
                    if (isNaN(mA) || isNaN(mB) || isNaN(thetaA) || isNaN(thetaB) || isNaN(mR) || isNaN(thetaR)) continue;
        
                    // ğŸ”¥ ì²« ë²ˆì§¸ í‘œì˜ ê°’ì„ ë‘ ë²ˆì§¸ í‘œë¡œ ë³µì‚¬ (ìë™ ì…ë ¥)
                    document.getElementById(`Cexp_${i}`).innerText = -mR.toFixed(4); // ìŒìˆ˜ ë³€í™˜ í›„ ì…ë ¥
                    document.getElementById(`thetaR_${i}`).innerText = thetaR.toFixed(2); // ê·¸ëŒ€ë¡œ ì…ë ¥
        
                    // ğŸ”¥ ì´ë¡ ê°’ C_theory ê³„ì‚° (ì¤‘ë ¥ê°€ì†ë„ g ì œê±°)
                    let radA = thetaA * (Math.PI / 180);
                    let radB = thetaB * (Math.PI / 180);
                    let Ctheory = Math.sqrt(mA**2 + mB**2 + 2 * mA * mB * Math.cos(radB - radA));
                    document.getElementById(`Ctheory_${i}`).innerText = Ctheory.toFixed(4);
        
                    // ğŸ”¥ Ï† (íŒŒì´) ê³„ì‚°
                    let phi = Math.atan2(mA * Math.sin(radA) + mB * Math.sin(radB), mA * Math.cos(radA) + mB * Math.cos(radB)) * (180 / Math.PI);
                    document.getElementById(`phi_${i}`).innerText = phi.toFixed(2);
        
                    // ğŸ”¥ ì˜¤ì°¨ ê³„ì‚°
                    if (!isNaN(mR) && !isNaN(thetaR)) {
                        let error_C = Math.abs((Ctheory - (-mR)) / Ctheory) * 100;
                        let error_phi = Math.abs((phi - thetaR) / phi) * 100;
        
                        document.getElementById(`error_C_${i}`).innerText = error_C.toFixed(2);
                        document.getElementById(`error_phi_${i}`).innerText = error_phi.toFixed(2);
        
                        sum_error_C += error_C;
                        sum_error_phi += error_phi;
                        count++;
                    }
                }
        
                // í‰ê·  ê³„ì‚°
                if (count > 0) {
                    document.getElementById("avg_error_C").innerText = (sum_error_C / count).toFixed(2);
                    document.getElementById("avg_error_phi").innerText = (sum_error_phi / count).toFixed(2);
                }
            }
        </script>
        